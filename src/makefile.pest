help_message = { (LETTER | SPACE_SEPARATOR | PUNCTUATION | NUMBER)+ }

name = { "#@name " ~(help_message)* }
description = { "#@description " ~(help_message)* }

help = _{ "## " ~ (help_message)* }

phony = _{ ".PHONY: " ~ (LETTER)*}

target_name = { (LETTER | "_" | "-" | "/")+ }

target = _{ (target_name)* ~ ":" }

target_with_help = {
  (help ~ "\n")+
  ~ (phony ~ "\n")*
  ~ target
}

makefile = _{ SOI ~ (name | description | target_with_help | ANY)* ~ EOI}
